{
    "name": "My Custom Syntax Highlighter",
    "scopeName": "source.ssjs",
    "fileTypes": ["*.ssjs"],
    "patterns": [
      {
        "name": "meta.tag.script.start",
        "begin": "<script(?=(?:[^>\"']|[\"'][^\"']*\"'|'[^']*')*?(?:\\slang=['\"]?(my-custom-syntax)['\"]?))",
        "end": "</script>",
        "patterns": [
          {
            "name": "comment",
            "match": "<!--",
            "push": "comment"
          },
          {
            "name": "meta.tag.script.content",
            "begin": ">",
            "end": "<",
            "patterns": [
              {
                "name": "string.quoted.double",
                "match": "\".*?\"",
                "greedy": true
              },
              {
                "name": "string.quoted.single",
                "match": "'.*?'",
                "greedy": true
              },
              {
                "name": "keyword",
                "match": "\\b(function|if|else|for|while|return|try|catch|finally|throw|new|delete)\\b"
              },
              {
                "name": "support.class",
                "match": "\\b(window|document|console|setTimeout|setInterval)\\b"
              },
              {
                "name": "constant.numeric",
                "match": "\\b\\d+\\.?\\d*\\b"
              },
              {
                "name": "variable",
                "match": "\\b\\w+\\b"
              },
              {
                "name": "third-language.code",
                "begin": "<!-- THIRD-LANGUAGE -->",
                "end": "<!-- /THIRD-LANGUAGE -->"
              }
            ]
          }
        ]
      },
      {
        "name": "comment",
        "begin": "<!--",
        "end": "-->",
        "patterns": [
          {
            "name": "invalid.illegal",
            "match": "(\\bSELECT\\b.*\\bFROM\\b)"
          }
        ]
      }
    ],
    "repository": {
      "comment": {
        "patterns": [
          {
            "name": "comment.block.html",
            "match": "-->",
            "pop": true
          },
          {
            "name": "comment.block.html",
            "match": "<!--",
            "push": "comment"
          }
        ]
      }
    }
  }
  